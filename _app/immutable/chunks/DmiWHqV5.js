import"./DsnmJJEf.js";import{i as Zt}from"./BX4BDtc4.js";import{o as Gt,b as Qt,e as bt,s as P}from"./CeKPYFWJ.js";import{x as Ut,i,G as F,C as T,aM as R,j as mt,aN as Ht,t as I,z as _,B as u,A as d,v as tt,e as D,p as O,y as Kt,aO as Wt,o as Yt}from"./CfAa79NP.js";import{p as xt,s as yt,i as gt,b as te,a as ee}from"./DTqi1YZQ.js";import{s as $t,b as jt,l as wt,a as se,c as Mt,f as kt,d as ae,e as ie,g as Pt,i as Dt,h as re,j as ne}from"./DteDbk3I.js";import{r as oe,a as le}from"./D8xlQMeI.js";const st=Math.PI,at=2*st,N=1e-6,ce=at-N;function St(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function he(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return St;const a=10**t;return function(s){this._+=s[0];for(let n=1,o=s.length;n<o;++n)this._+=Math.round(arguments[n]*a)/a+s[n]}}class de{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?St:he(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,s,n){this._append`Q${+t},${+a},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(t,a,s,n,o,c){this._append`C${+t},${+a},${+s},${+n},${this._x1=+o},${this._y1=+c}`}arcTo(t,a,s,n,o){if(t=+t,a=+a,s=+s,n=+n,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,h=this._y1,r=s-t,f=n-a,y=c-t,w=h-a,v=y*y+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(v>N)if(!(Math.abs(w*r-f*y)>N)||!o)this._append`L${this._x1=t},${this._y1=a}`;else{let b=s-c,C=n-h,q=r*r+f*f,G=b*b+C*C,V=Math.sqrt(q),X=Math.sqrt(v),z=o*Math.tan((st-Math.acos((q+v-G)/(2*V*X)))/2),E=z/X,J=z/V;Math.abs(E-1)>N&&this._append`L${t+E*y},${a+E*w}`,this._append`A${o},${o},0,0,${+(w*b>y*C)},${this._x1=t+J*r},${this._y1=a+J*f}`}}arc(t,a,s,n,o,c){if(t=+t,a=+a,s=+s,c=!!c,s<0)throw new Error(`negative radius: ${s}`);let h=s*Math.cos(n),r=s*Math.sin(n),f=t+h,y=a+r,w=1^c,v=c?n-o:o-n;this._x1===null?this._append`M${f},${y}`:(Math.abs(this._x1-f)>N||Math.abs(this._y1-y)>N)&&this._append`L${f},${y}`,s&&(v<0&&(v=v%at+at),v>ce?this._append`A${s},${s},0,1,${w},${t-h},${a-r}A${s},${s},0,1,${w},${this._x1=f},${this._y1=y}`:v>N&&this._append`A${s},${s},0,${+(v>=st)},${w},${this._x1=t+s*Math.cos(o)},${this._y1=a+s*Math.sin(o)}`)}rect(t,a,s,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function L(e){return function(){return e}}function pe(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);t=s}return e},()=>new de(t)}function ue(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ft(e){this._context=e}Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ve(e){return new Ft(e)}function _e(e){return e[0]}function fe(e){return e[1]}function be(e,t){var a=L(!0),s=null,n=ve,o=null,c=pe(h);e=typeof e=="function"?e:e===void 0?_e:L(e),t=typeof t=="function"?t:t===void 0?fe:L(t);function h(r){var f,y=(r=ue(r)).length,w,v=!1,b;for(s==null&&(o=n(b=c())),f=0;f<=y;++f)!(f<y&&a(w=r[f],f,r))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(w,f,r),+t(w,f,r));if(b)return o=null,b+""||null}return h.x=function(r){return arguments.length?(e=typeof r=="function"?r:L(+r),h):e},h.y=function(r){return arguments.length?(t=typeof r=="function"?r:L(+r),h):t},h.defined=function(r){return arguments.length?(a=typeof r=="function"?r:L(!!r),h):a},h.curve=function(r){return arguments.length?(n=r,s!=null&&(o=n(s)),h):n},h.context=function(r){return arguments.length?(r==null?s=o=null:o=n(s=r),h):s},h}function At(e){return e<0?-1:1}function Ct(e,t,a){var s=e._x1-e._x0,n=t-e._x1,o=(e._y1-e._y0)/(s||n<0&&-0),c=(a-e._y1)/(n||s<0&&-0),h=(o*n+c*s)/(s+n);return(At(o)+At(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(h))||0}function Et(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function et(e,t,a){var s=e._x0,n=e._y0,o=e._x1,c=e._y1,h=(o-s)/3;e._context.bezierCurveTo(s+h,n+h*t,o-h,c-h*a,o,c)}function Z(e){this._context=e}Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:et(this,this._t0,Et(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,et(this,Et(this,a=Ct(this,e,t)),a);break;default:et(this,this._t0,a=Ct(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};Object.create(Z.prototype).point=function(e,t){Z.prototype.point.call(this,t,e)};function me(e){return new Z(e)}var xe=I('<div class="prior-input svelte-18rjscc"><label class="svelte-18rjscc"></label> <input type="number" min="0.001" max="1" step="0.001" class="svelte-18rjscc"/></div>'),ye=I('<span class="warning svelte-18rjscc">(Normalizado automaticamente)</span>'),ge=I("<p></p> <p></p> <p></p>",1),$e=I('<tr class="svelte-18rjscc"><td class="svelte-18rjscc"> </td><td class="svelte-18rjscc"> </td><td class="svelte-18rjscc"> </td><td class="svelte-18rjscc"> </td><td class="svelte-18rjscc"> </td></tr>'),je=I('<div class="bayesian-analysis svelte-18rjscc"><div class="header svelte-18rjscc"><button class="back-btn svelte-18rjscc">← Voltar</button> <h1 class="svelte-18rjscc"> </h1></div> <div class="content svelte-18rjscc"><div class="controls-section svelte-18rjscc"><div class="prior-controls svelte-18rjscc"><h3 class="svelte-18rjscc">Configurar Priori</h3> <div class="prior-inputs svelte-18rjscc"></div> <p class="sum-display svelte-18rjscc"> <!></p></div> <div class="statistics svelte-18rjscc"><h3 class="svelte-18rjscc">Estatísticas</h3> <div class="stat-row svelte-18rjscc"><strong>Observações:</strong> </div> <div class="stat-row svelte-18rjscc"><strong>Distribuição das faces:</strong><br/> </div></div></div> <div class="plot-section svelte-18rjscc"><h3 class="svelte-18rjscc">Distribuições de Probabilidade</h3> <svg width="900" height="350" viewBox="0 0 900 350" style="max-width: 100%; height: auto;"></svg></div> <div class="mathematical-formulation svelte-18rjscc"><h3 class="svelte-18rjscc">Formulação Matemática</h3> <div class="math-content svelte-18rjscc"><div class="formula svelte-18rjscc"><h4 class="svelte-18rjscc">Modelo Multinomial com Priori Dirichlet</h4> <!></div> <div class="results svelte-18rjscc"><h4 class="svelte-18rjscc">Resultados Numéricos</h4> <div class="result-table svelte-18rjscc"><table class="svelte-18rjscc"><thead><tr class="svelte-18rjscc"><th class="svelte-18rjscc">Face</th><th class="svelte-18rjscc">Priori</th><th class="svelte-18rjscc">Observações</th><th class="svelte-18rjscc">Posteriori</th><th class="svelte-18rjscc">Empírica</th></tr></thead><tbody></tbody></table></div></div></div></div></div></div>');function Ee(e,t){Ut(t,!1);const a=()=>yt(re,"$diceData",n),s=()=>yt(ne,"$diceColors",n),[n,o]=ee(),c=F(),h=F(),r=F(),f=F();let y=xt(t,"selectedDice",8),w=xt(t,"onBack",8),v=F(),b=F([1/6,1/6,1/6,1/6,1/6,1/6]),C=F(!1);Gt(()=>{V(),q()}),Qt(()=>{i(C)&&typeof window<"u"&&window.MathJax&&window.MathJax.typesetPromise()});function q(){typeof window<"u"&&window.MathJax?T(C,!0):setTimeout(q,100)}function G(p,l){Wt(b,i(b)[p]=Math.max(.001,l));const m=i(b).reduce((x,$)=>x+$,0);T(b,i(b).map(x=>x/m))}function V(){if(!i(v))return;const p=$t(i(v));p.selectAll("*").remove();const l={top:20,right:30,bottom:60,left:60},m=800-l.left-l.right,x=400-l.top-l.bottom,$=p.append("g").attr("transform",`translate(${l.left},${l.top})`),M=jt().domain(["1","2","3","4","5","6"]).range([0,m]).padding(.1),g=wt().domain([0,1]).range([x,0]);$.append("g").attr("class","x-axis").attr("transform",`translate(0,${x})`).call(se(M)).append("text").attr("x",m/2).attr("y",40).attr("fill","black").style("text-anchor","middle").style("font-size","14px").text("Face do Dado"),$.append("g").attr("class","y-axis").call(Mt(g).tickFormat(kt(".0%"))).append("text").attr("transform","rotate(-90)").attr("y",-40).attr("x",-x/2).attr("fill","black").style("text-anchor","middle").style("font-size","14px").text("Probabilidade");const B=$.append("g").attr("class","legend").attr("transform",`translate(${m-200}, 20)`);[{label:"Prior",color:"#bdc3c7",type:"line"},{label:"Posteriori",color:"#27ae60",type:"bar"},{label:"Frequência",color:i(h),type:"bar"}].forEach((A,j)=>{const k=B.append("g").attr("transform",`translate(0, ${j*20})`);A.type==="bar"?k.append("rect").attr("width",15).attr("height",10).attr("fill",A.color):k.append("line").attr("x1",0).attr("x2",15).attr("y1",5).attr("y2",5).attr("stroke",A.color).attr("stroke-width",2),k.append("text").attr("x",20).attr("y",5).attr("dy","0.35em").style("font-size","12px").text(A.label)})}function X(){if(!i(v))return;const l=$t(i(v)).select("g"),m={top:20,right:30,bottom:60,left:60},x=800-m.left-m.right,$=400-m.top-m.bottom,M=jt().domain(["1","2","3","4","5","6"]).range([0,x]).padding(.1),g=wt().domain([0,1]).range([$,0]);l.select(".y-axis").transition().duration(500).call(Mt(g).tickFormat(kt(".0%")));const B=l.selectAll(".posterior-bar").data(i(r));B.enter().append("rect").attr("class","posterior-bar").merge(B).attr("x",(j,k)=>M((k+1).toString())||0).attr("width",M.bandwidth()*.45).attr("fill","#27ae60").attr("opacity",.8).attr("stroke","white").attr("stroke-width",1).transition().duration(500).attr("y",j=>g(j)).attr("height",j=>$-g(j));const S=l.selectAll(".frequency-bar").data(i(f));S.enter().append("rect").attr("class","frequency-bar").merge(S).attr("x",(j,k)=>(M((k+1).toString())||0)+M.bandwidth()*.5).attr("width",M.bandwidth()*.45).attr("fill",i(h)).attr("opacity",.8).attr("stroke","white").attr("stroke-width",1).transition().duration(500).attr("y",j=>g(j)).attr("height",j=>$-g(j));const A=be().x((j,k)=>(M((k+1).toString())||0)+M.bandwidth()/2).y(j=>g(j)).curve(me);l.selectAll(".prior-line").remove(),l.append("path").datum(i(b)).attr("class","prior-line").attr("fill","none").attr("stroke","#bdc3c7").attr("stroke-width",3).attr("stroke-dasharray","5,5").attr("d",A),l.selectAll(".baseline-line").remove(),l.append("line").attr("class","baseline-line").attr("x1",0).attr("x2",x).attr("y1",g(1/6)).attr("y2",g(1/6)).attr("stroke","#666").attr("stroke-dasharray","5,5").attr("stroke-width",2),l.selectAll(".baseline-text").remove(),l.append("text").attr("class","baseline-text").attr("x",x-5).attr("y",g(1/6)-5).attr("fill","#666").style("text-anchor","end").style("font-size","12px").text("1/6 (laranja)")}R(()=>(a(),mt(y())),()=>{T(c,a()[y()])}),R(()=>(s(),mt(y())),()=>{T(h,s()[y()])}),R(()=>(i(b),i(c)),()=>{T(r,ae(i(b),i(c).counts))}),R(()=>i(c),()=>{T(f,ie(i(c).counts))}),R(()=>(i(v),i(r)),()=>{i(v)&&i(r)&&X()}),Ht(),Zt();var z=je(),E=_(z),J=_(E),it=u(J,2),Tt=_(it);d(it),d(E);var rt=u(E,2),Q=_(rt),U=_(Q),H=u(_(U),2);Pt(H,5,()=>i(b),Dt,(p,l,m)=>{var x=xe(),$=_(x);$.textContent=`Face ${m+1}:`;var M=u($,2);oe(M),d(x),tt(g=>le(M,g),[()=>(i(l),D(()=>i(l).toFixed(3)))]),bt("input",M,g=>G(m,parseFloat(g.target.value)||.001)),O(p,x)}),d(H);var nt=u(H,2),ot=_(nt),Nt=u(ot);{var zt=p=>{var l=ye();O(p,l)};gt(Nt,p=>{i(b),D(()=>Math.abs(i(b).reduce((l,m)=>l+m,0)-1)>.001)&&p(zt)})}d(nt),d(U);var lt=u(U,2),K=u(_(lt),2),Bt=u(_(K));d(K);var ct=u(K,2),Lt=u(_(ct),2);d(ct),d(lt),d(Q);var W=u(Q,2),qt=u(_(W),2);te(qt,p=>T(v,p),()=>i(v)),d(W);var ht=u(W,2),dt=u(_(ht),2),Y=_(dt),Jt=u(_(Y),2);{var Rt=p=>{var l=ge(),m=Yt(l);m.textContent="$$\\text{Verossimilhança: } P(\\mathbf{x} | \\boldsymbol{\\theta}) = \\text{Multinomial}(\\mathbf{x} | n, \\boldsymbol{\\theta})$$";var x=u(m,2);x.textContent="$$\\text{Priori: } P(\\boldsymbol{\\theta}) = \\text{Dir}(\\boldsymbol{\\theta} | \\boldsymbol{\\alpha})$$";var $=u(x,2);$.textContent="$$\\text{Posteriori: } P(\\boldsymbol{\\theta} | \\mathbf{x}) = \\text{Dir}(\\boldsymbol{\\theta} | \\boldsymbol{\\alpha} + \\mathbf{x})$$",O(p,l)};gt(Jt,p=>{i(C)&&p(Rt)})}d(Y);var pt=u(Y,2),ut=u(_(pt),2),vt=_(ut),_t=u(_(vt));Pt(_t,4,()=>[1,2,3,4,5,6],Dt,(p,l,m)=>{var x=$e(),$=_(x),M=_($,!0);d($);var g=u($),B=_(g);d(g);var S=u(g),A=_(S,!0);d(S);var j=u(S),k=_(j);d(j);var ft=u(j),Ot=_(ft);d(ft),d(x),tt((It,Vt,Xt)=>{P(M,l),P(B,`${It??""}%`),P(A,(i(c),D(()=>i(c).counts[m]))),P(k,`${Vt??""}%`),P(Ot,`${Xt??""}%`)},[()=>(i(b),D(()=>(i(b)[m]*100).toFixed(1))),()=>(i(r),D(()=>(i(r)[m]*100).toFixed(1))),()=>(i(f),D(()=>(i(f)[m]*100).toFixed(1)))]),O(p,x)}),d(_t),d(vt),d(ut),d(pt),d(dt),d(ht),d(rt),d(z),tt((p,l)=>{P(Tt,`Análise Bayesiana: ${y()==="biased"?"Dado Azul":"Dado Laranja"}`),P(ot,`Soma: ${p??""} `),P(Bt,` ${i(c),D(()=>i(c).throws.length)??""} jogadas`),P(Lt,` [${l??""}]`)},[()=>(i(b),D(()=>i(b).reduce((p,l)=>p+l,0).toFixed(3))),()=>(i(c),D(()=>i(c).counts.join(", ")))]),bt("click",J,function(...p){w()?.apply(this,p)}),O(e,z),Kt(),o()}export{Ee as default};
